<!doctype html>

<html lang="en" data-bs-theme="dark">

    <head>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        
        <link rel="icon" href="https://www.petfactory.se/favicons/favicon-32.png" sizes="32x32">

        
        
        
        <link rel="apple-touch-icon" href="https://www.petfactory.se/favicons/favicon-180.png" sizes="180x180">

        <link rel="stylesheet" href="https://www.petfactory.se/css/bootstrap.min.css">
        <script defer src="https://www.petfactory.se/js/bootstrap.bundle.min.js"></script>
        
        <script defer src="https://www.petfactory.se/js/util.js"></script>

        <link rel="stylesheet" href="https://www.petfactory.se/css/style.css">
        <link rel="stylesheet" href="https://www.petfactory.se/css/syntax.css">

        
        <title>Petfactory | Houdini - Python</title>
        <meta name="description" content="Petfactory | Design and Animation | Houdini - Python" />

    </head>

    <body>

      <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">

        <div class="container-fluid main-menu-wrap">

          <a class="home-icon" href="https://www.petfactory.se/">
            <svg xmlns="http://www.w3.org/2000/svg" fill="#e83e8c" width="18" height="18" viewBox="0 0 61.44 61.67"><path class="a" d="M1.28,45.25V56.6a6,6,0,0,0,6,6H18.64A27.07,27.07,0,0,1,8,55.93,25.6,25.6,0,0,1,1.28,45.25Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M28,7.85a27.08,27.08,0,0,1,19.37,7.79L52,20.31,41.35,31,36.9,26.55A13.24,13.24,0,0,0,28,23a12.91,12.91,0,1,0,0,25.82,13.24,13.24,0,0,0,8.9-3.56L62.72,19.42V7.18a6,6,0,0,0-6-6H7.29a6.33,6.33,0,0,0-6,6.23V26.77A28.27,28.27,0,0,1,28,7.85Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M47.36,56.6a27,27,0,0,1-10.24,6.23H56.49a6,6,0,0,0,6-6V41.46Z" transform="translate(-1.28 -1.17)"/></svg>
          </a>


          <button class="navbar-toggler" id="navbar-btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            
          </button>


          <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbar2Labe">
            <div class="offcanvas-header">
              
              
              <a class="home-icon" href="https://www.petfactory.se/">
                <svg xmlns="http://www.w3.org/2000/svg" fill="#e83e8c" width="18" height="18" viewBox="0 0 61.44 61.67"><path class="a" d="M1.28,45.25V56.6a6,6,0,0,0,6,6H18.64A27.07,27.07,0,0,1,8,55.93,25.6,25.6,0,0,1,1.28,45.25Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M28,7.85a27.08,27.08,0,0,1,19.37,7.79L52,20.31,41.35,31,36.9,26.55A13.24,13.24,0,0,0,28,23a12.91,12.91,0,1,0,0,25.82,13.24,13.24,0,0,0,8.9-3.56L62.72,19.42V7.18a6,6,0,0,0-6-6H7.29a6.33,6.33,0,0,0-6,6.23V26.77A28.27,28.27,0,0,1,28,7.85Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M47.36,56.6a27,27,0,0,1-10.24,6.23H56.49a6,6,0,0,0,6-6V41.46Z" transform="translate(-1.28 -1.17)"/></svg>
              </a>

              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>

            </div>

            <div class="offcanvas-body">

              <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">

                <li class="nav-item">
                  
                  <a class="nav-link" aria-current="page" href="https://www.petfactory.se/about">About</a>
                </li>

                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="https://www.petfactory.se/work">Work</a>
                </li>

                <li class="nav-item">
                  <a class="nav-link" href="https://www.petfactory.se/cv">CV</a>
                </li>

                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Notes
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end" id="dropdown-menu-pet">
                    <li><a class="dropdown-item" href="https://www.petfactory.se//tags/python-notes">Python</a></li>
                    <li><a class="dropdown-item" href="https://www.petfactory.se//tags/houdini-notes">Houdini</a></li>
                    <li><a class="dropdown-item" href="https://www.petfactory.se//tags/unreal-engine-notes">Unreal Engine</a></li>
                    <li><a class="dropdown-item" href="https://www.petfactory.se//tags/davinci-resolve-notes">DaVinci Resolve</a></li>
                    <li>
                      <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item" href="https://www.petfactory.se/notes">All Notes</a></li>
                  </ul>
                </li>
              </ul>

              <div id="social-list-modal-wrap">
                <ul id="social-list-modal">
                  <li><a target="_blank" class="" href="https://twitter.com/johanBorgstrom"><svg fill="#555" width="30" height="30" viewBox="0 0 16 16"><path d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</a></li>
                  <li><a target="_blank" class="" href="https://www.youtube.com/channel/UCB-6-mQgbIn2dUa70D1noTQ"><svg fill="#555" width="30" height="30" viewBox="0 0 64 64"><path d="M54.15,10.031l-20.9-0.019l-21.718,0.019c-5.433,0-11.534,3.626-11.534,8.944v26.474c0,5.316,6.101,8.559,11.534,8.559 H54.15c5.432,0,9.834-3.242,9.834-8.559V18.976C63.984,13.657,59.582,10.031,54.15,10.031z M27.856,42.205L27.73,22.044 l14.03,10.168L27.856,42.205z"/></svg>




</a></li>
                  <li><a target="_blank" class="" href="https://linkedin.com/in/johan-borgstr%c3%b6m-8b06875"><svg fill="#555" width="30" height="30" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51V7.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z" fill-rule="nonzero"/></svg></a></li>
                </ul>
              </div>

            </div>

          </div>

        </div>

      </nav>

      
      

      <main id="content-main-wrap">

          

<div class="top-spacer"></div>

<div class="container">
  <div class="row">
    <div class="col-md-10 notes-wrap">
    	<p>Here I will gather information that I find useful.</p>
<h1 id="environment-variables">Environment variables</h1>
<p>Houdini uses 
<a href="https://www.sidefx.com/docs/houdini/basics/config_env.html" target="_blank" rel="noopener">environment variables</a> for various purposes, such as defining paths (sets of directories in which Houdini looks for certain types of files), commonly used directories (such as $HFS, the install location of Houdini) and for obscure or highly technical settings.</p>
<p>See the 
<a href="https://www.sidefx.com/docs/houdini/ref/env.html" target="_blank" rel="noopener">list of environment variables</a> in Houdini.</p>
<h2 id="inspect-variables">Inspect variables</h2>
<p>To print the value of an environment variable you can use the Houdini Python Shell:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">hou<span style="color:#f92672">.</span>getenv(<span style="color:#e6db74">&#39;HOUDINI_OTLSCAN_PATH&#39;</span>)
</code></pre></div><p>You can also use the Textport:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo $HOUDINI_OTLSCAN_PATH
</code></pre></div><h2 id="environment-config">Environment config</h2>
<p>Traditionally, the way to set the values of environment variables in Houdini was to edit the 
<a href="https://www.sidefx.com/docs/houdini/basics/config_env.html#setting-environment-variables" target="_blank" rel="noopener">houdini.env</a> file. The houdini.env file are found in the $HOUDINI_USER_PREF_DIR (see notes below). The problem is that not only the user wants to set environment variables, but also studios, plug-in authors, and so on. Multiple parties would end up rewriting or appending to the houdini.env file, sometimes causing errors or redundancy.</p>
<p>The new solution for this kind of set-up is packages. Packages are .json files in HOUDINI_PATH/packages. Each package file contains a specification for how to modify the environment (including the Houdini Path and other variables).</p>
<h3 id="houdini-packages">Houdini Packages</h3>
<p>
<a href="https://www.sidefx.com/docs/houdini/ref/plugins.html" target="_blank" rel="noopener">Docs</a></p>
<ul>
<li>Package files must be valid <strong>JSON</strong> and must have the .json extension.</li>
<li>Houdini will scan a number directories on startup looking for packages (see docs for which)
<ul>
<li>$HOUDINI_USER_PREF_DIR/packages</li>
</ul>
</li>
</ul>
<p>The <strong>$HOUDINI_USER_PREF_DIR</strong> is located here</p>
<ul>
<li>Mac
<ul>
<li><code>~/Library/Preferences/houdini/X.X/</code></li>
</ul>
</li>
<li>Windows
<ul>
<li><code>%HOME%/houdiniX.X/</code></li>
</ul>
</li>
</ul>
<p>Lets add a package to set a custom directory for our HDA. We will use the houdini user prefs dir for this.</p>
<ol>
<li>Create a directory called <strong>packages</strong> in the $HOUDINI_USER_PREF_DIR.</li>
<li>Add a file (the name does not matter) but make sure the extension is <strong>.json</strong></li>
<li>Add the snippet below to that file and save.</li>
<li>Launch Houdini, to verify you can inspect the variable using the methods listed under Inspect variables.</li>
</ol>
<p>Example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;env&#34;</span>: [
        {
            <span style="color:#f92672">&#34;HOUDINI_OTLSCAN_PATH&#34;</span>: <span style="color:#e6db74">&#34;$HOME/path/to/HDA&#34;</span>
        }
    ]
}
</code></pre></div><h3 id="python-path">Python Path</h3>
<p>We can also use the same package file to add a custom python path</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;env&#34;</span>: [
        {
            <span style="color:#f92672">&#34;HOUDINI_OTLSCAN_PATH&#34;</span>: <span style="color:#e6db74">&#34;$HOME/path/to/HDA&#34;</span>
        },
        {
        	<span style="color:#f92672">&#34;PYTHONPATH&#34;</span>: <span style="color:#e6db74">&#34;$HOME/path/to/scripts&#34;</span>
        }
    ]
}
</code></pre></div><hr>
<h1 id="nodes">Nodes</h1>
<h2 id="selection">Selection</h2>
<ul>
<li>
<p><strong>Clear All</strong></p>
<ul>
<li><em>hou.clearAllSelected()</em>
<ul>
<li>Clears the selected state for all nodes, network boxes, and other subclasses of hou.NetworkMovableItem in the Houdini session.</li>
<li>This function is equivalent to traversing the node hierarchy and calling setSelected(False) on every hou.NetworkMovableItem in the scene, but operates much much faster.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Selection</strong></p>
<ul>
<li><strong>setCurrent</strong>(on, clear_all_selected=False)
<ul>
<li>Set or unset this node as the last selected one.</li>
</ul>
</li>
<li><strong>setSelected</strong>(on, clear_all_selected=False, show_asset_if_selected=False)
<ul>
<li>Select or deselect this item, optionally deselecting all other selected items in this network.</li>
</ul>
</li>
<li><strong>Select only the nodes in a list</strong>
<ul>
<li>[n.setCurrent(True, True) if i==0 else n.setCurrent(True, False) for i, n in enumerate(node_list)]</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="class">Class</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">for</span> node <span style="color:#f92672">in</span> hou<span style="color:#f92672">.</span>selectedNodes():
        <span style="color:#66d9ef">print</span>(node<span style="color:#f92672">.</span>type()<span style="color:#f92672">.</span>name() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;geo&#39;</span>) 
        <span style="color:#66d9ef">print</span>(type(node))
        <span style="color:#66d9ef">print</span>(isinstance(node, hou<span style="color:#f92672">.</span>ObjNode)) 
</code></pre></div><h2 id="type">Type</h2>
<p>All the node types in Houdini are organized into categories, and a node type is uniquely identified by its category and node type name. For example, objects, SOPs, POPs, etc. are node type categories. You can also access a 
<a href="https://www.sidefx.com/docs/houdini/hom/hou/NodeType.html" target="_blank" rel="noopener">NodeType</a> object from a category with hou.NodeTypeCategory.nodeTypes. Similarly, you can call hou.nodeType() with the category and node type name.</p>
<ul>
<li><strong>nameComponents()</strong> → tuple of str
<ul>
<li>Returns a tuple of node type name components that constitute the full node type name. The components in the tuple appear in the following order:
<ul>
<li><strong>Network</strong> scope network type</li>
<li><strong>Namespace</strong> node type namespace</li>
<li><strong>Name</strong> node type core name</li>
<li><strong>Version</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#39;/obj/geo1/copytopoints1&#39;</span>)
<span style="color:#66d9ef">print</span>(node<span style="color:#f92672">.</span>type())
<span style="color:#75715e"># &lt;hou.SopNodeType for Sop copytopoints::2.0&gt;</span>
<span style="color:#66d9ef">print</span>(node<span style="color:#f92672">.</span>type()<span style="color:#f92672">.</span>nameComponents())
<span style="color:#75715e"># (&#39;&#39;, &#39;&#39;, &#39;copytopoints&#39;, &#39;2.0&#39;)</span>
</code></pre></div><h2 id="flag">Flag</h2>
<ul>
<li><strong>Set Flag</strong>
<ul>
<li><em>Bypass</em>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">node<span style="color:#f92672">.</span>setGenericFlag(hou<span style="color:#f92672">.</span>nodeFlag<span style="color:#f92672">.</span>Bypass, True)
</code></pre></div></li>
<li><em>Comment</em>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">node<span style="color:#f92672">.</span>setComment(<span style="color:#e6db74">&#39;Hello World&#39;</span>)
node<span style="color:#f92672">.</span>setGenericFlag(hou<span style="color:#f92672">.</span>nodeFlag<span style="color:#f92672">.</span>DisplayComment, True)
</code></pre></div></li>
</ul>
</li>
</ul>
<h1 id="parms">Parms</h1>
<p>Here is a quick one liner to print all the parms of the selected node aswell as node specifed with a path.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>join(p<span style="color:#f92672">.</span>name() <span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> hou<span style="color:#f92672">.</span>selectedNodes()[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>parms()))

node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#39;/obj/copytopoints&#39;</span>)
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>join(p<span style="color:#f92672">.</span>name() <span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> node<span style="color:#f92672">.</span>parms()))
</code></pre></div><h2 id="parm-template">Parm template</h2>
<h3 id="add-parm-template">Add Parm Template</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># string parm</span>
string_parm <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>StringParmTemplate(<span style="color:#e6db74">&#39;prefix&#39;</span>, <span style="color:#e6db74">&#39;Prefix&#39;</span>, <span style="color:#ae81ff">1</span>)
wrangle_node<span style="color:#f92672">.</span>addSpareParmTuple(string_parm)

toggle_parm <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>ToggleParmTemplate(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;toggle&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Toggle&#39;</span>, default_value<span style="color:#f92672">=</span>True)
wrangle_node<span style="color:#f92672">.</span>addSpareParmTuple(toggle_parm)

float_parm <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>FloatParmTemplate(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;float&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Float&#39;</span>, num_components<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, default_value<span style="color:#f92672">=</span>(<span style="color:#ae81ff">0</span>,), min<span style="color:#f92672">=-</span><span style="color:#ae81ff">10</span>, max<span style="color:#f92672">=</span><span style="color:#ae81ff">10.0</span>)
wrangle_node<span style="color:#f92672">.</span>addSpareParmTuple(float_parm)

ramp_parm <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>RampParmTemplate(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ramp&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Ramp&#39;</span>, ramp_parm_type<span style="color:#f92672">=</span>hou<span style="color:#f92672">.</span>rampParmType<span style="color:#f92672">.</span>Float)
wrangle_node<span style="color:#f92672">.</span>addSpareParmTuple(ramp_parm)

<span style="color:#75715e"># add conditional</span>
your_parm<span style="color:#f92672">.</span>setConditional(hou<span style="color:#f92672">.</span>parmCondType<span style="color:#f92672">.</span>DisableWhen, <span style="color:#e6db74">&#34;{ other_parm == 0 }&#34;</span>)
</code></pre></div><ul>
<li>Add a spare input to a camera</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">cam <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#39;/obj/&#39;</span>)<span style="color:#f92672">.</span>createNode(<span style="color:#e6db74">&#39;cam&#39;</span>)
string_parm <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>StringParmTemplate(<span style="color:#e6db74">&#39;spare_input0&#39;</span>, <span style="color:#e6db74">&#39;Spare Input 0&#39;</span>, <span style="color:#ae81ff">1</span>, string_type<span style="color:#f92672">=</span>hou<span style="color:#f92672">.</span>stringParmType<span style="color:#f92672">.</span>NodeReference)
cam<span style="color:#f92672">.</span>addSpareParmTuple(string_parm)
</code></pre></div><p>A 
<a href="https://www.sidefx.com/docs/houdini/hom/hou/ParmTemplate.html" target="_blank" rel="noopener">ParmTemplates</a> describes a parameter and the type of data it holds, but it does not store the current value of a parameter. only hou.Parm objects inside hou.ParmTuple objects actually store parameter values. You can think of a hou.ParmTuple as an instance of a ParmTemplate.</p>
<p>For example, the &ldquo;t&rdquo; parm tuple on geometry objects can be described by a hou.FloatParmTemplate – it has a label of &ldquo;Transform&rdquo;, a data type of hou.parmData.Float, 3 components, a naming scheme of hou.parmNamingScheme.XYZW, etc.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">node<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;ty&#39;</span>)<span style="color:#f92672">.</span>parmTemplate()
<span style="color:#75715e"># &lt;hou.FloatParmTemplate name=&#39;t&#39; label=&#39;Translate&#39; length=3 ...</span>
node<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;ty&#39;</span>)<span style="color:#f92672">.</span>parmTemplate()<span style="color:#f92672">.</span>type()
<span style="color:#75715e"># parmTemplateType.Float</span>
</code></pre></div><h3 id="multiparm">Multiparm</h3>
<p>Here is an example of how to create a multiparm on a attrib wrangle node. The parm will be added to the root of the node (this is also where parms are added when the &ldquo;auto add spare parms&rdquo; is clicked)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">parent_node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#39;/obj&#39;</span>)<span style="color:#f92672">.</span>createNode(<span style="color:#e6db74">&#39;geo&#39;</span>)
wrangle_node <span style="color:#f92672">=</span> parent_node<span style="color:#f92672">.</span>createNode(<span style="color:#e6db74">&#39;attribwrangle&#39;</span>)
wrangle_node<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;class&#39;</span>)<span style="color:#f92672">.</span>set(<span style="color:#ae81ff">0</span>)

parm_template_group <span style="color:#f92672">=</span> wrangle_node<span style="color:#f92672">.</span>parmTemplateGroup()

multi_folder_parm_template <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>FolderParmTemplate(<span style="color:#e6db74">&#34;positions&#34;</span>, <span style="color:#e6db74">&#34;Positions&#34;</span>, folder_type<span style="color:#f92672">=</span>hou<span style="color:#f92672">.</span>folderType<span style="color:#f92672">.</span>MultiparmBlock, default_value<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, ends_tab_group<span style="color:#f92672">=</span>False)
float_parm_template <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>FloatParmTemplate(<span style="color:#e6db74">&#34;pos_#&#34;</span>, <span style="color:#e6db74">&#34;Pos&#34;</span>, <span style="color:#ae81ff">3</span>, default_value<span style="color:#f92672">=</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>]), min<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, max<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
multi_folder_parm_template<span style="color:#f92672">.</span>addParmTemplate(float_parm_template)
parm_template_group<span style="color:#f92672">.</span>append(multi_folder_parm_template)

snippet <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">int num = chi(&#39;positions&#39;);
</span><span style="color:#e6db74">int i, pnt;
</span><span style="color:#e6db74">vector p;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">for(i=0; i&lt;num; i++){
</span><span style="color:#e6db74">    p = chv(sprintf(&#39;pos_</span><span style="color:#e6db74">%i</span><span style="color:#e6db74">&#39;, i+1));
</span><span style="color:#e6db74">    pnt = addpoint(0, p);
</span><span style="color:#e6db74">}
</span><span style="color:#e6db74">&#39;&#39;&#39;</span>
wrangle_node<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;snippet&#39;</span>)<span style="color:#f92672">.</span>set(snippet)
wrangle_node<span style="color:#f92672">.</span>setParmTemplateGroup(parm_template_group)
</code></pre></div><h2 id="parm-tuple">Parm tuple</h2>
<p>The 
<a href="https://www.sidefx.com/docs/houdini/hom/hou/ParmTuple.html" target="_blank" rel="noopener">ParmTuple</a> class behaves like a Python sequence, so you can index into it using square brackets, iterate over it, call len on it, etc. The elements inside the parameter tuple are hou.Parm objects.</p>
<p>A parameter tuple’s name may only contain letters, numbers, and underscores. For example, objects contain a parameter tuple named &ldquo;t&rdquo; that contains three float parameters. The names of the parameters inside the tuple are determined from the parameter tuple’s name and its naming scheme. For example, the &ldquo;t&rdquo; parameter uses the XYZW naming scheme, so the three parameters inside it are named &ldquo;tx&rdquo;, &ldquo;ty&rdquo;, and &ldquo;tz&rdquo;. Note that if the parameter tuple only contains one parameter, the tuple and the parameter inside it may have the same name</p>
<p>In addition to a name, a parameter tuple also has a label that is displayed to the user in the parameter dialog. For example, the &ldquo;t&rdquo; parameter’s label is &ldquo;Translate&rdquo;. The label may contain spaces and punctuation characters.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">node<span style="color:#f92672">.</span>parmTuple(<span style="color:#e6db74">&#39;t&#39;</span>)
<span style="color:#75715e"># &lt;hou.ParmTuple t in /obj/geo1&gt;</span>
node<span style="color:#f92672">.</span>parmTuple(<span style="color:#e6db74">&#39;t&#39;</span>)<span style="color:#f92672">.</span>name()
<span style="color:#75715e"># &#39;t&#39;</span>
node<span style="color:#f92672">.</span>parmTuple(<span style="color:#e6db74">&#39;t&#39;</span>)<span style="color:#f92672">.</span>description()
<span style="color:#75715e"># &#39;Translate&#39;</span>
node<span style="color:#f92672">.</span>parmTuple(<span style="color:#e6db74">&#39;t&#39;</span>)<span style="color:#f92672">.</span>parmTemplate()
<span style="color:#75715e"># &lt;hou.FloatParmTemplate name=&#39;t&#39; label=&#39;Translate&#39; length=3 ...</span>
node<span style="color:#f92672">.</span>parmTuple(<span style="color:#e6db74">&#39;t&#39;</span>)<span style="color:#f92672">.</span>eval()
<span style="color:#75715e"># (0.0, 0.0, 0.0)</span>
</code></pre></div><p>So the <strong>&ldquo;t&rdquo;</strong> parm tuple holds a reference to the x, y &amp; z float parms.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">node<span style="color:#f92672">.</span>parmTuple(<span style="color:#e6db74">&#39;t&#39;</span>)[<span style="color:#ae81ff">0</span>]
<span style="color:#75715e"># hou.Parm tx in /obj/geo1&gt;</span>
node<span style="color:#f92672">.</span>parmTuple(<span style="color:#e6db74">&#39;t&#39;</span>)[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> node<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;tx&#39;</span>)
<span style="color:#75715e"># True</span>
</code></pre></div><p>To find the parm template used for a specific parm we get it with the parmtemplate method:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">node<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;tx&#39;</span>)<span style="color:#f92672">.</span>parmTemplate()
<span style="color:#75715e"># &lt;hou.FloatParmTemplate name=&#39;t&#39; label=&#39;Translate&#39; length=3 ...</span>
</code></pre></div><h2 id="parms-in-folder">Parms in Folder</h2>
<p>If you want to get all the parms in a specific folder you can use the 
<a href="https://www.sidefx.com/docs/houdini/hom/hou/Node.html#parmsInFolder" target="_blank" rel="noopener">parmsInFolder</a> function.</p>
<p>Lets say that you want all the parms in the PostFX folder (that are inside the Redshift Camera folder of the camera node) note that we need to specify the entire &ldquo;hierarchy&rdquo; to the destination folder.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">src_node<span style="color:#f92672">.</span>parmsInFolder((<span style="color:#e6db74">&#34;Redshift Camera&#34;</span>, <span style="color:#e6db74">&#34;PostFX&#34;</span>))
</code></pre></div><h1 id="ui">UI</h1>
<h2 id="icons">Icons</h2>
<p>
<a href="https://www.sidefx.com/docs/houdini/hom/hou/qt/Icon.html" target="_blank" rel="noopener">hou.qt.Icon</a>
An icon generated from a Houdini icon name.</p>
<ul>
<li><strong>init</strong>(icon_name, width=None, height=None)
<ul>
<li>Create and return a new icon for the specified Houdini icon name.</li>
<li>You can discover Houdini icons using the Houdini file chooser dialog and diving into the “hicon://” path. The name of the icon file without the .svg extension is the icon’s name. For example, the icon name for “hicon://SVGIcons.index/BUTTONS_help.svg” is “BUTTONS_help”.</li>
<li>Example</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#39;/obj/geo1/merge1&#39;</span>)
icon <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>qt<span style="color:#f92672">.</span>Icon(node<span style="color:#f92672">.</span>type()<span style="color:#f92672">.</span>icon())
icon <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>qt<span style="color:#f92672">.</span>Icon(node<span style="color:#f92672">.</span>type()<span style="color:#f92672">.</span>icon(), width<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span>, height<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span>)
</code></pre></div></li>
</ul>
<h2 id="custom-tool">Custom Tool</h2>
<ul>
<li>Add new shelf tool
<ul>
<li>RMB click the shelf &gt; New Tool</li>
</ul>
</li>
<li><strong>Options</strong> Tab
<ul>
<li>In the <em>Name</em> field type &ldquo;my_tool&rdquo;</li>
<li>In he <em>Label</em> filed type &ldquo;My Tool&rdquo; (This name will be used in the tab menu)</li>
<li>For a better UX
<ul>
<li>Add Icon, Keywords</li>
</ul>
</li>
</ul>
</li>
<li><strong>Context</strong> tab
<ul>
<li><em>Network Pane</em> tab
<ul>
<li>Enable the <em>SOP</em> checkbox (the context we want to create the tool in)</li>
</ul>
</li>
<li><em>Viewer Pane</em> tab
<ul>
<li>If you want it accessible from here also:
<ul>
<li>Enable the <em>SOP</em> checkbox (the context we want to create the tool in)</li>
</ul>
</li>
</ul>
</li>
<li><em>TAB Submenu Path</em>
<ul>
<li>The name of the tab sub menu</li>
<li>Type &ldquo;My Tools&rdquo;</li>
</ul>
</li>
<li><em>Hotkeys</em>
<ul>
<li>We might want ti assign it to a hot key</li>
<li>On the right hand side of the <em>Network Pane</em> click the edit an add a hot key</li>
</ul>
</li>
</ul>
</li>
<li><strong>Scrips</strong> tab
<ul>
<li>Add the following script
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> toolutils
<span style="color:#f92672">import</span> hou

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_setup</span>(parent, position):
          
    node <span style="color:#f92672">=</span> parent<span style="color:#f92672">.</span>createNode(<span style="color:#e6db74">&#39;null&#39;</span>, <span style="color:#e6db74">&#39;Hello&#39;</span>)
    node<span style="color:#f92672">.</span>setPosition(position)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">doit</span>():

    pane <span style="color:#f92672">=</span> kwargs<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;pane&#39;</span>)
          
    <span style="color:#66d9ef">if</span> pane <span style="color:#f92672">==</span> None: <span style="color:#75715e"># triggered form the shelf</span>
        parent <span style="color:#f92672">=</span> toolutils<span style="color:#f92672">.</span>networkEditor()<span style="color:#f92672">.</span>pwd()

    <span style="color:#66d9ef">else</span>:
        parent <span style="color:#f92672">=</span> pane<span style="color:#f92672">.</span>pwd()

    <span style="color:#66d9ef">if</span> isinstance(pane, hou<span style="color:#f92672">.</span>NetworkEditor):
        <span style="color:#75715e"># only get the cursor pos if the tool was requested from the</span>
        <span style="color:#75715e"># network editor, if not the cursor pos will be quite useless</span>
        position <span style="color:#f92672">=</span> pane<span style="color:#f92672">.</span>cursorPosition()
        <span style="color:#75715e"># print(f&#39;{pane=}, {parent=}, {position=}&#39;)</span>
              
    <span style="color:#66d9ef">else</span>:
        position <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>Vector2(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)
        <span style="color:#75715e"># maybe use move to good location or what it is called?</span>

    create_setup(parent, position)

doit()
</code></pre></div></li>
</ul>
</li>
<li><strong>To Do</strong>
<ul>
<li>Look into how to create the nodes, and lay the down on the node graph when the LMB is clicked.</li>
<li>Look into the help tab</li>
<li>Look into add icon</li>
<li>Look into add keywords</li>
</ul>
</li>
</ul>
<hr>
<h2 id="houui">hou.ui</h2>
<h3 id="input-dialogs">Input Dialogs</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">ui<span style="color:#f92672">.</span>readMultiInput(<span style="color:#e6db74">&#39;mess&#39;</span>, (<span style="color:#e6db74">&#39;From&#39;</span>, <span style="color:#e6db74">&#39;To&#39;</span>), initial_contents<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;*_L&#39;</span>, <span style="color:#e6db74">&#39;*_R&#39;</span>))
</code></pre></div><p>The 
<a href="https://www.sidefx.com/docs/houdini/hom/hou/ui.html" target="_blank" rel="noopener">hou.ui module</a> contains some nice user interface related functions. For instance:</p>
<ul>
<li><strong>Copy to clipboard</strong>
<ul>
<li>Instead of using Pyside to do this we can do:</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">hou<span style="color:#f92672">.</span>ui<span style="color:#f92672">.</span>copyTextToClipboard(<span style="color:#e6db74">&#39;Hello World!&#39;</span>)
</code></pre></div><ul>
<li><strong>Select Node Dialog</strong>
<ul>
<li>To spawn a select node dialog with a node type filter and custom node filter we can do this:</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_material_library</span>(node):
    <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>type()<span style="color:#f92672">.</span>name() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;materiallibrary&#39;</span>:
        <span style="color:#66d9ef">return</span> True
    <span style="color:#66d9ef">return</span> False

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">select_lop_material_library_node</span>():
    node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>ui<span style="color:#f92672">.</span>selectNode(node_type_filter<span style="color:#f92672">=</span>hou<span style="color:#f92672">.</span>nodeTypeFilter<span style="color:#f92672">.</span>Lop, custom_node_filter_callback<span style="color:#f92672">=</span>is_material_library)
    <span style="color:#66d9ef">return</span> node
</code></pre></div><h2 id="camera-viewport">Camera Viewport</h2>
<p>If you want to add comments to the camera viewport you can do this by the steps below. Thank to 
<a href="https://youtu.be/4930UF-AzvE?si=DeaasdOz6Lh_Yvh2" target="_blank" rel="noopener">TyHoudinifx</a> for the tip.</p>
<ul>
<li><strong>Viewport Comments</strong>
<ul>
<li><strong>Add Viewport Comment parameter</strong>
<ul>
<li>On the camera click the <em>Edit Parameter Interface</em></li>
<li><strong>1 - regular String parm</strong>
<ul>
<li>You can use a regular <em>string</em> parameter as long as you give it the name <em>vcomment</em></li>
</ul>
</li>
<li><strong>2 - from Render Properties</strong>
<ul>
<li>But you can also add it from the render properties tab that has the name already setup</li>
<li>Swicth to the <em>Render Properies tab</em></li>
<li>Type &ldquo;comment&rdquo; in the filter and hit enter</li>
<li>Drag the <em>Viewport Display</em> and drop it onb the <em>Existing Parameters</em></li>
</ul>
</li>
<li><strong>Edit parm properties</strong>
<ul>
<li>Select the added parm in the <em>Existing Parameters</em> treeview</li>
<li>On the <em>Parameter</em> tab enable the <em>Multiline String</em></li>
<li>Switch to the <em>Channels</em> tab
<ul>
<li>On the first row you will click on the third icon and set it from <em>Literal</em> to <em>Python</em></li>
</ul>
</li>
<li>Click accept on the edit parameter interface</li>
</ul>
</li>
</ul>
</li>
<li><strong>Set Comments with Python</strong>
<ul>
<li>With the camera selected, navigate to the parm we just added</li>
<li>Click once on the <em>Viewport Comment</em> parameter. The background color will turn to a lighter grey. This means we can start writing Python</li>
<li>Click in the line edit and press enter one time. For some reason the script fials if code is enetred on the first line.</li>
<li>So on line 2 write return &lsquo;Hello World!&rsquo;</li>
</ul>
</li>
<li><strong>Display Custom node Info</strong>
<ul>
<li>If we want to display custom info from a node in the network we could add a <em>Operator Path</em> parameter to the OpenGL View section.</li>
<li>Open the cameras <em>Edit Parameter Interface</em> and drag in a <em>Operator Path</em> parameter. Give it a good name and label.</li>
<li>Then we can acces the data found on the node we specify with the operator path parm.</li>
</ul>
</li>
<li><strong>Python Example</strong>
<ul>
<li>Here is an example script that will output some data to the viewport</li>
<li>Note that the example below expects a detail dict attribute called &ldquo;metadata&rdquo; to be present on the node (that we specified with the operator path)</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> hou

cam_node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>pwd()
s <span style="color:#f92672">=</span> f<span style="color:#e6db74">&#39;hip : {hou.expandString(&#34;$HIPFILE&#34;)}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>
s <span style="color:#f92672">+=</span> f<span style="color:#e6db74">&#39;cam : {cam_node.name()}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>

<span style="color:#75715e"># if the parm or node is not specified</span>
<span style="color:#66d9ef">try</span>: 
    node_path <span style="color:#f92672">=</span> cam_node<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;node&#39;</span>)<span style="color:#f92672">.</span>evalAsString()
    node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(node_path)
    geo <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>geometry()
         
    <span style="color:#75715e"># if the dict attrib does not exist</span>
    <span style="color:#66d9ef">try</span>:
        meta_dict <span style="color:#f92672">=</span> geo<span style="color:#f92672">.</span>dictAttribValue(<span style="color:#e6db74">&#39;metadata&#39;</span>)
              
        <span style="color:#66d9ef">for</span> key, value <span style="color:#f92672">in</span> meta_dict<span style="color:#f92672">.</span>items():
            s <span style="color:#f92672">+=</span> f<span style="color:#e6db74">&#39;{key} : {value}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>
    <span style="color:#66d9ef">except</span>:
        <span style="color:#66d9ef">pass</span>

<span style="color:#66d9ef">except</span>:
    <span style="color:#66d9ef">pass</span>


<span style="color:#66d9ef">return</span> s
</code></pre></div></li>
</ul>
</li>
</ul>
<h1 id="snippets">Snippets</h1>
<h2 id="lops">Lops</h2>
<p>Create a Karma Material Builder</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> voptoolutils

dst_node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#39;/obj/geo1/lopnet1/matnet1&#39;</span>)

subnet_node <span style="color:#f92672">=</span> None
name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;karmamaterial&#39;</span>
mask <span style="color:#f92672">=</span> voptoolutils<span style="color:#f92672">.</span>KARMAMTLX_TAB_MASK
folder_label<span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Karma Material Builder&#39;</span>
render_context <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;kma&#34;</span>

mat_builder <span style="color:#f92672">=</span> voptoolutils<span style="color:#f92672">.</span>_setupMtlXBuilderSubnet(
        subnet_node<span style="color:#f92672">=</span>subnet_node,
        destination_node<span style="color:#f92672">=</span>dst_node,
        name<span style="color:#f92672">=</span>name,
        mask<span style="color:#f92672">=</span>mask,
        folder_label<span style="color:#f92672">=</span>folder_label,
        render_context<span style="color:#f92672">=</span>render_context)
</code></pre></div><h2 id="selection-1">Selection</h2>
<p>Select rop fbx nodes that has input geo and has prims with a path attrib with a value, with optional exclude set.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">set_current_if_has_geo</span>(node_set):
    hou<span style="color:#f92672">.</span>clearAllSelected()
    <span style="color:#66d9ef">for</span> node <span style="color:#f92672">in</span> node_set:

        inputs <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>inputs()
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> inputs:
            value <span style="color:#f92672">=</span> False
        <span style="color:#66d9ef">else</span>:
            input_geo <span style="color:#f92672">=</span> inputs[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>geometry()
            has_attrib_val <span style="color:#f92672">=</span> len(input_geo<span style="color:#f92672">.</span>findPrimAttrib(<span style="color:#e6db74">&#39;path&#39;</span>)<span style="color:#f92672">.</span>strings()) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>
            value <span style="color:#f92672">=</span> True <span style="color:#66d9ef">if</span> has_attrib_val <span style="color:#66d9ef">else</span> False
       
        node<span style="color:#f92672">.</span>setCurrent(value, False)

exclude_set <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;rop_fbx1&#39;</span>, <span style="color:#e6db74">&#39;rop_fbx2&#39;</span>}
parent_node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#39;/obj/geo1&#39;</span>)
node_set <span style="color:#f92672">=</span> { node <span style="color:#66d9ef">for</span> node <span style="color:#f92672">in</span> parent_node<span style="color:#f92672">.</span>children() <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>type()<span style="color:#f92672">.</span>name() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;rop_fbx&#39;</span> <span style="color:#f92672">and</span> node<span style="color:#f92672">.</span>name() <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> exclude_set }
set_current_if_has_geo(node_set)
</code></pre></div><pre><code>callback += '\t\t\n'
callback += '\t\t
</code></pre>
<h2 id="misc">Misc</h2>
<p><strong>Undo</strong></p>
<p>Returns a context manager, within which all changes to Houdini are recorded as a single action on the 
<a href="https://www.sidefx.com/docs/houdini/hom/hou/undos.html" target="_blank" rel="noopener">undo</a> stack.
For example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">with</span> hou<span style="color:#f92672">.</span>undos<span style="color:#f92672">.</span>group(<span style="color:#e6db74">&#34;Move all nodes to the left&#34;</span>):
    <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#34;/obj&#34;</span>)<span style="color:#f92672">.</span>children():
        n<span style="color:#f92672">.</span>move(hou<span style="color:#f92672">.</span>Vector2(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>))
</code></pre></div><hr>
<p><strong>AsCode()</strong></p>
<p>When you are scripting it is sometimes useful to get the python code that produces a specific node. The <strong>asCode</strong> methdod prints the Python code necessary to recreate a node. The snippet belows copies the result to the clipboard.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> PySide2 <span style="color:#f92672">import</span> QtWidgets

sel_list <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>selectedNodes()
<span style="color:#66d9ef">if</span> len(sel_list)<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">1</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;Nothing is selected&#39;</span>)
<span style="color:#66d9ef">else</span>:
    clipboard <span style="color:#f92672">=</span> QtWidgets<span style="color:#f92672">.</span>QApplication<span style="color:#f92672">.</span>clipboard()
    clipboard<span style="color:#f92672">.</span>setText(sel_list[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>asCode())
</code></pre></div><hr>
<p><strong>Copy to points</strong></p>
<p>New to <strong>copy to points</strong> node in Houdini 18 is that we need to add attribs from target via a multiparm attribute.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># create a copytopoints node</span>
geo <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>node(<span style="color:#e6db74">&#39;/obj&#39;</span>)<span style="color:#f92672">.</span>createNode(<span style="color:#e6db74">&#39;geo&#39;</span>)
copy <span style="color:#f92672">=</span> geo<span style="color:#f92672">.</span>createNode(<span style="color:#e6db74">&#39;copytopoints&#39;</span>)

<span style="color:#75715e"># we want to add 1 attributes from target parm</span>
copy<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;targetattribs&#39;</span>)<span style="color:#f92672">.</span>set(<span style="color:#ae81ff">1</span>)

<span style="color:#75715e"># lets set the attr</span>
c<span style="color:#f92672">.</span>parm(<span style="color:#e6db74">&#39;applyattribs1&#39;</span>)<span style="color:#f92672">.</span>set(<span style="color:#e6db74">&#39;my_attr&#39;</span>)

</code></pre></div><hr>
<h2 id="string">String</h2>
<h3 id="houtext-module">hou.text module</h3>
<p>The 
<a href="https://www.sidefx.com/docs/houdini/hom/hou/text.html" target="_blank" rel="noopener">hou.textModule</a> contains Houdini-specific string manipulation methods.</p>
<p><strong>Pattern find &amp; replace</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">input_string <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;yolo_42_L&#39;</span>
pattern_find <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*_L&#39;</span>
pattern_replace <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*_R&#39;</span>

r <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>text<span style="color:#f92672">.</span>patternRename(input_string, pattern_find, pattern_replace)
<span style="color:#66d9ef">print</span>(r)
</code></pre></div><p><strong>Sanitize names</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">asset_name <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>text<span style="color:#f92672">.</span>variableName(asset_name)
</code></pre></div><h3 id="regex">Regex</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> re

REGEX_TRAILING_DIGITS <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;^([a-zA-Z_]*?)[0-9]*$&#39;</span>)

node <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>pwd()
geo <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>geometry()

<span style="color:#66d9ef">for</span> prim <span style="color:#f92672">in</span> geo<span style="color:#f92672">.</span>prims():

    mat_name <span style="color:#f92672">=</span> prim<span style="color:#f92672">.</span>attribValue(<span style="color:#e6db74">&#39;shop_materialpath&#39;</span>)
    m <span style="color:#f92672">=</span> REGEX_TRAILING_DIGITS<span style="color:#f92672">.</span>match(mat_name)
    <span style="color:#66d9ef">if</span> m:
        capt_grp <span style="color:#f92672">=</span> m<span style="color:#f92672">.</span>groups()[<span style="color:#ae81ff">0</span>]
        prim<span style="color:#f92672">.</span>setAttribValue(<span style="color:#e6db74">&#39;shop_materialpath&#39;</span>, capt_grp)  
</code></pre></div><hr>
<h2 id="parms-1">Parms</h2>
<h3 id="add-script-callback">Add Script Callback</h3>
<p>Add a button to a cop network that when it is pressed will render a child node called &ldquo;rop_cop1&rdquo;. It seems that the commented out line is not necessary? Seems to do the same as the 2 lines above. The lines are from when I run an asCode() on the node that had the setup I wanted.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">snippet <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hou.node(&#39;.&#39;).node(&#39;rop_comp1&#39;).parm(&#39;execute&#39;).pressButton()&#34;</span>
parm_template_group <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>parmTemplateGroup()
parm_template <span style="color:#f92672">=</span> hou<span style="color:#f92672">.</span>ButtonParmTemplate(<span style="color:#e6db74">&#34;render&#34;</span>, <span style="color:#e6db74">&#34;Render&#34;</span>)
parm_template<span style="color:#f92672">.</span>setScriptCallback(snippet)
parm_template<span style="color:#f92672">.</span>setScriptCallbackLanguage(hou<span style="color:#f92672">.</span>scriptLanguage<span style="color:#f92672">.</span>Python)
<span style="color:#75715e"># parm_template.setTags({&#34;script_callback&#34;: snippet, &#34;script_callback_language&#34;: &#34;python&#34;})</span>
parm_template_group<span style="color:#f92672">.</span>append(parm_template)
node<span style="color:#f92672">.</span>setParmTemplateGroup(parm_template_group)
</code></pre></div><hr>

    </div>
    <div class="col-md-2 toc-wrap">
    	
    	<aside class="toc-aside">
    	
    	<div class="toc-content">
			<nav id="TableOfContents">
  <ul>
    <li><a href="#environment-variables">Environment variables</a>
      <ul>
        <li><a href="#inspect-variables">Inspect variables</a></li>
        <li><a href="#environment-config">Environment config</a>
          <ul>
            <li><a href="#houdini-packages">Houdini Packages</a></li>
            <li><a href="#python-path">Python Path</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#nodes">Nodes</a>
      <ul>
        <li><a href="#selection">Selection</a></li>
        <li><a href="#class">Class</a></li>
        <li><a href="#type">Type</a></li>
        <li><a href="#flag">Flag</a></li>
      </ul>
    </li>
    <li><a href="#parms">Parms</a>
      <ul>
        <li><a href="#parm-template">Parm template</a>
          <ul>
            <li><a href="#add-parm-template">Add Parm Template</a></li>
            <li><a href="#multiparm">Multiparm</a></li>
          </ul>
        </li>
        <li><a href="#parm-tuple">Parm tuple</a></li>
        <li><a href="#parms-in-folder">Parms in Folder</a></li>
      </ul>
    </li>
    <li><a href="#ui">UI</a>
      <ul>
        <li><a href="#icons">Icons</a></li>
        <li><a href="#custom-tool">Custom Tool</a></li>
        <li><a href="#houui">hou.ui</a>
          <ul>
            <li><a href="#input-dialogs">Input Dialogs</a></li>
          </ul>
        </li>
        <li><a href="#camera-viewport">Camera Viewport</a></li>
      </ul>
    </li>
    <li><a href="#snippets">Snippets</a>
      <ul>
        <li><a href="#lops">Lops</a></li>
        <li><a href="#selection-1">Selection</a></li>
        <li><a href="#misc">Misc</a></li>
        <li><a href="#string">String</a>
          <ul>
            <li><a href="#houtext-module">hou.text module</a></li>
            <li><a href="#regex">Regex</a></li>
          </ul>
        </li>
        <li><a href="#parms-1">Parms</a>
          <ul>
            <li><a href="#add-script-callback">Add Script Callback</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>	
		</div>
		</aside>	
    </div>
  </div>
</div>


<div class="mobile-toc-wrap">

	<div class="mobile-toc-btn">
		<button class="btn" hret="unreal" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
			<svg fill="#888" width="26" height="26" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/>
  <path d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4"/></svg>








		</button>
	</div>
	
	<div class="offcanvas offcanvas-end" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
	  <div class="offcanvas-header">
	    
	    <a class="home-icon" href="https://www.petfactory.se/">
    	  <svg xmlns="http://www.w3.org/2000/svg" fill="#e83e8c" width="18" height="18" viewBox="0 0 61.44 61.67"><path class="a" d="M1.28,45.25V56.6a6,6,0,0,0,6,6H18.64A27.07,27.07,0,0,1,8,55.93,25.6,25.6,0,0,1,1.28,45.25Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M28,7.85a27.08,27.08,0,0,1,19.37,7.79L52,20.31,41.35,31,36.9,26.55A13.24,13.24,0,0,0,28,23a12.91,12.91,0,1,0,0,25.82,13.24,13.24,0,0,0,8.9-3.56L62.72,19.42V7.18a6,6,0,0,0-6-6H7.29a6.33,6.33,0,0,0-6,6.23V26.77A28.27,28.27,0,0,1,28,7.85Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M47.36,56.6a27,27,0,0,1-10.24,6.23H56.49a6,6,0,0,0,6-6V41.46Z" transform="translate(-1.28 -1.17)"/></svg>
      </a>

	    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
	  </div>
	  
	  <div class="offcanvas-body" id="toc-modal-wrap">
	  	<div data-bs-dismiss="offcanvas">
	    	<nav id="TableOfContents">
  <ul>
    <li><a href="#environment-variables">Environment variables</a>
      <ul>
        <li><a href="#inspect-variables">Inspect variables</a></li>
        <li><a href="#environment-config">Environment config</a>
          <ul>
            <li><a href="#houdini-packages">Houdini Packages</a></li>
            <li><a href="#python-path">Python Path</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#nodes">Nodes</a>
      <ul>
        <li><a href="#selection">Selection</a></li>
        <li><a href="#class">Class</a></li>
        <li><a href="#type">Type</a></li>
        <li><a href="#flag">Flag</a></li>
      </ul>
    </li>
    <li><a href="#parms">Parms</a>
      <ul>
        <li><a href="#parm-template">Parm template</a>
          <ul>
            <li><a href="#add-parm-template">Add Parm Template</a></li>
            <li><a href="#multiparm">Multiparm</a></li>
          </ul>
        </li>
        <li><a href="#parm-tuple">Parm tuple</a></li>
        <li><a href="#parms-in-folder">Parms in Folder</a></li>
      </ul>
    </li>
    <li><a href="#ui">UI</a>
      <ul>
        <li><a href="#icons">Icons</a></li>
        <li><a href="#custom-tool">Custom Tool</a></li>
        <li><a href="#houui">hou.ui</a>
          <ul>
            <li><a href="#input-dialogs">Input Dialogs</a></li>
          </ul>
        </li>
        <li><a href="#camera-viewport">Camera Viewport</a></li>
      </ul>
    </li>
    <li><a href="#snippets">Snippets</a>
      <ul>
        <li><a href="#lops">Lops</a></li>
        <li><a href="#selection-1">Selection</a></li>
        <li><a href="#misc">Misc</a></li>
        <li><a href="#string">String</a>
          <ul>
            <li><a href="#houtext-module">hou.text module</a></li>
            <li><a href="#regex">Regex</a></li>
          </ul>
        </li>
        <li><a href="#parms-1">Parms</a>
          <ul>
            <li><a href="#add-script-callback">Add Script Callback</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
	    </div>	
	  </div>
	</div>

</div>



      </main>

      
      


      

      <footer class="container py-5">

          <div class="row">

              <div class="col-md-6 footer-logo-wrap">

                  <a class="home-icon" href="https://www.petfactory.se/">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="#e83e8c" width="18" height="18" viewBox="0 0 61.44 61.67"><path class="a" d="M1.28,45.25V56.6a6,6,0,0,0,6,6H18.64A27.07,27.07,0,0,1,8,55.93,25.6,25.6,0,0,1,1.28,45.25Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M28,7.85a27.08,27.08,0,0,1,19.37,7.79L52,20.31,41.35,31,36.9,26.55A13.24,13.24,0,0,0,28,23a12.91,12.91,0,1,0,0,25.82,13.24,13.24,0,0,0,8.9-3.56L62.72,19.42V7.18a6,6,0,0,0-6-6H7.29a6.33,6.33,0,0,0-6,6.23V26.77A28.27,28.27,0,0,1,28,7.85Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M47.36,56.6a27,27,0,0,1-10.24,6.23H56.49a6,6,0,0,0,6-6V41.46Z" transform="translate(-1.28 -1.17)"/></svg>
                  </a>
                  <span class="footer-logo-lext">petfactory &copy; 2024</span>

              </div>

              <div class="col-md-6 social-list">
                  <ul>
                      <li><a target="_blank" class="" href="https://twitter.com/johanBorgstrom"><svg fill="#444" width="20" height="20" viewBox="0 0 16 16"><path d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</a></li>
                      <li><a target="_blank" class="" href="https://www.youtube.com/channel/UCB-6-mQgbIn2dUa70D1noTQ"><svg fill="#444" width="20" height="20" viewBox="0 0 64 64"><path d="M54.15,10.031l-20.9-0.019l-21.718,0.019c-5.433,0-11.534,3.626-11.534,8.944v26.474c0,5.316,6.101,8.559,11.534,8.559 H54.15c5.432,0,9.834-3.242,9.834-8.559V18.976C63.984,13.657,59.582,10.031,54.15,10.031z M27.856,42.205L27.73,22.044 l14.03,10.168L27.856,42.205z"/></svg>




</a></li>
                      
                      <li><a target="_blank" class="" href="https://linkedin.com/in/johan-borgstr%c3%b6m-8b06875"><svg fill="#444" width="20" height="20" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51V7.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z" fill-rule="nonzero"/></svg></a></li>
                  </ul>
              </div>
          </div>
          
      </footer>

    </body>

</html>