<!doctype html>
<html lang="en">

	<head>
    	
	    <meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        
        <link rel="icon" href="https://www.petfactory.se/favicons/favicon-32.png" sizes="32x32">

        
        
        
        <link rel="apple-touch-icon" href="https://www.petfactory.se/favicons/favicon-180.png" sizes="180x180">

	    
	    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	    
        <link rel="stylesheet" href="https://www.petfactory.se/css/style.css">
        <link rel="stylesheet" href="https://www.petfactory.se/css/syntax.css">
        
        
        
        <link href="https://fonts.googleapis.com/css?family=Quicksand:400,500&display=swap" rel="stylesheet">
	    <title>Houdini - HDA</title>

	</head>


	<body>

        <nav class="site-header"> 

            

            <div class="mobile-menu-trigger">            
                <a href="javascript:void(0);" class="menu-icon"><svg fill="#fff" width="18" height="18" viewBox="0 0 18 15"><path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/><path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/><path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/></svg></a>
            </div>

    		<div class="container d-flex flex-column flex-md-row justify-content-between main-nav-wrap">
        		
                <div class="header-logo-wrap">
                    <a class="py-2 home-icon" href="https://www.petfactory.se/">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="#e83e8c" width="18" height="18" viewBox="0 0 61.44 61.67"><path class="a" d="M1.28,45.25V56.6a6,6,0,0,0,6,6H18.64A27.07,27.07,0,0,1,8,55.93,25.6,25.6,0,0,1,1.28,45.25Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M28,7.85a27.08,27.08,0,0,1,19.37,7.79L52,20.31,41.35,31,36.9,26.55A13.24,13.24,0,0,0,28,23a12.91,12.91,0,1,0,0,25.82,13.24,13.24,0,0,0,8.9-3.56L62.72,19.42V7.18a6,6,0,0,0-6-6H7.29a6.33,6.33,0,0,0-6,6.23V26.77A28.27,28.27,0,0,1,28,7.85Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M47.36,56.6a27,27,0,0,1-10.24,6.23H56.49a6,6,0,0,0,6-6V41.46Z" transform="translate(-1.28 -1.17)"/></svg>
                    <span class="header-logo-text">PETFACTORY</span>
                    </a>
                </div>
        		<a class="py-2 d-none d-md-inline-block" href="https://www.petfactory.se/about">ABOUT</a>
        		<a class="py-2 d-none d-md-inline-block" href="https://www.petfactory.se/work">WORK</a>
        		<a class="py-2 d-none d-md-inline-block" href="https://www.petfactory.se/cv">CV</a>
                <a class="py-2 d-none d-md-inline-block" href="https://www.petfactory.se/notes">NOTES</a>
      		</div>

            
            
    	</nav>

        <nav id="menu-wrap" class="open closed">

            <ul>
                <li><a href="https://www.petfactory.se/about">ABOUT</a></li>
                <li><a href="https://www.petfactory.se/work">WORK</a></li>
                <li><a href="https://www.petfactory.se/cv">CV</a></li>
                <li><a href="https://www.petfactory.se/notes">NOTES</a></li>
            </ul>

        </nav> 

        <main id="content-main-wrap">

            

<div class="top-spacer"></div>

<div class="container">

	<div class="toc-wrap">
		<aside class="toc-aside">
			<nav id="TableOfContents">
  <ul>
    <li><a href="#asset-name">Asset name</a>
      <ul>
        <li><a href="#namespaces">Namespaces</a></li>
        <li><a href="#versions">Versions</a></li>
        <li><a href="#asset-name--scripting">Asset name &amp; scripting</a></li>
      </ul>
    </li>
    <li><a href="#custom-hda-path">Custom HDA Path</a></li>
    <li><a href="#parameters">Parameters</a></li>
    <li><a href="#hda-python-scripts">HDA Python Scripts</a>
      <ul>
        <li><a href="#pythonmodule">PythonModule</a></li>
        <li><a href="#additional-modules">Additional Modules</a></li>
      </ul>
    </li>
    <li><a href="#extra-files">Extra Files</a></li>
  </ul>
</nav>
		</aside>	
	</div>

</div>


<div class="container notes-wrap">

	<div class="row">
		
		<div class="col-md-10 mx-auto">
			<h1>Houdini - HDA</h1>
			<p>The notes below are based on info found in the <a href="https://www.sidefx.com/docs/houdini/assets/namespaces.html">Houdini docs</a> as well as other sources.</p>
<h1 id="asset-name">Asset name</h1>
<p>The general form of an asset’s internal name is</p>
<p><strong>[namespace::]node_name[::version]</strong></p>
<p>The namespace and version are both optional. You can have a name with both a namespace and a version, or just a namespace, or just a version, or neither.</p>
<h2 id="namespaces">Namespaces</h2>
<p>The namespace identifier lets you name your assets without worrying about using the same name as a built-in Houdini node or as a third-party asset you might use someday. (Note that this only applies to the internal name of the node… you can always use any string you want for the human readable label that appears in the user interface.)
A useful convention to ensure you use a unique namespace name is to reverse the DNS address of your website. For example, if the creator´s website is at houdini.bacon.org, they would use org.bacon.houdini as the namespace for their assets.</p>
<h2 id="versions">Versions</h2>
<p>The version string allows you to create multiple independent versions of an asset without having to change the &ldquo;main name&rdquo;.
Instances of the old version will still work and use the old implementation, while users placing a new node will get the latest version.
The version can only contain numbers and periods (.). For example, myasset::2, myasset::2.1, myasset::19.1.3, but not myasset::2a or myasset::alpha.</p>
<h2 id="asset-name--scripting">Asset name &amp; scripting</h2>
<p>Some scripting commands require the node category and node name together (for example Object/geo, Sop/copy, Dop/popsolver). To use namespaced names with these commands, use the form 
[namespace::]<strong>node_category</strong>/<strong>node_name</strong>[::version]
For example, com.sundae::<strong>Sop</strong>/<strong>copy</strong>::2.0</p>
<!--
## 2 types of versioning

Houdini supports two different but compatible systems for versioning assets, supporting different use cases:

* You can incorporate the version number as part of the asset’s **internal name**. For example, mynode::2.0. This makes each version an entirely different asset. This allows different versions to exist in the same scene file simultaneously. When the user creates a node, they get the new version, but existing nodes use the older version and continue to work in the old way without changes.

	* **+** You can make large-scale changes to how the node works, how it interprets inputs, its parameter interface, and so on, without breaking anything.
	* **+** You don’t need to manually update old nodes.
	* **-** There is no provision to upgrade old nodes automatically.

---

* You can use the Version field in the **asset definition**. This was the historical versioning solution before namespaces were added. It is retained for cases where it’s still useful. If an asset instance loads and notices the asset’s version string has changed since the scene file was saved, it will run an upgrade handler script (if it exists). The script can edit the node instance to transform it into the new version.

	* This can be useful if you usually make minor, backwards-compatible changes to an asset rather than big breaking changes, especially new parameters. It is mostly useful in a studio environment, where a TD does the work so the artists' tools are automatically upgraded.
	* **+** You can automatically upgrade existing assets with new (backwards-compatible) features.
	* **-** You need to manually update the upgrade script and script the work of changing an old instance into a new instance, every time you update the asset. You may need to maintain the ability for the script to upgrade one of several old versions to the latest edition (for example, the script might need to be able to update any of version 1, 2, or 3 to version 4).

-->
<!--
# Subnet HDA

* Select the nodes
* press **Shift C** to create a subnet
* RMB click on the subnet > **Create Digital Asset**

# Geo level HDA

-->
<h1 id="custom-hda-path">Custom HDA Path</h1>
<a href="https://www.petfactory.se/notes/houdini_python_notes#houdini-packages">Set custom path to HDA</a>
<h1 id="parameters">Parameters</h1>
<p>One quick way to add parameters to the HDA is to (with the HDA <strong>Operator Type Properties</strong> window open) MMB click the parameter you wish to add to the HDA (this needs to be a parameter of a node in the subnet of the HDA)</p>
<h1 id="hda-python-scripts">HDA Python Scripts</h1>
<h2 id="pythonmodule">PythonModule</h2>
<p><a href="https://www.sidefx.com/docs/houdini/hom/hou/HDAModule.html">HDAModule</a> User-defined Python module containing functions, classes, and constants that are stored with and accessed from a digital asset.</p>
<ul>
<li>RMB click the HDA <strong>Allow Editing of Contents</strong></li>
<li>RMB click the HDA <strong>Type Properites</strong></li>
<li>On the <strong>scripts</strong> tab select <strong>Python Module</strong> from the <strong>Event Handler</strong> combobox. We now get a python module &ldquo;automatically&rdquo; added to our HDA.</li>
</ul>
<p>Lets write som test code and execute it from a button on the HDA.</p>
<ul>
<li>On the scripts tab, with the PythonModule selected enter the some code to be called</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">speak</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;speak was called from PythonModule&#39;</span>)
</code></pre></div><ul>
<li>Add a button to the HDA and as a <strong>python callback script</strong> we add the following snippet:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">hou<span style="color:#f92672">.</span>phm()<span style="color:#f92672">.</span>speak()
</code></pre></div><ul>
<li><strong>Note</strong>
<ul>
<li>phm() → hou.HDAModule
<ul>
<li>This shortcut lets you write hou.phm() instead of hou.pwd().hdaModule(). You are most likely to use this shortcut from event handlers, button callbacks, and menu generation scripts in digital assets.</li>
</ul>
</li>
<li>To make this work the python module must be named <strong>PythonModule</strong> (which it is if we add it this way)</li>
</ul>
</li>
</ul>
<h2 id="additional-modules">Additional Modules</h2>
<p>If you find that a digital asset has too much Python code to store in one module, it’s possible to create submodules. Lets create a separate python module and call it from our &ldquo;main&rdquo; python module.</p>
<ul>
<li>RMB click the HDA &gt; Type Properties and select the <strong>Scripts</strong> tab</li>
<li>In the <strong>Event Handler</strong> combobox select <strong>Custom Script</strong></li>
<li>Select the python script to include (with the filebrowser labeled &ldquo;filename&rdquo;)</li>
<li>This will autopopulate the section name with the file name (which is fine i guess, you can remove the .py extension if you want)</li>
<li>Click <strong>Add File</strong> to add the custom script to the HDA.</li>
<li>Now we need to import the custom module in our main python module (we also have a speak method in out custom module, which we also call)</li>
<li><strong>NOTE</strong>
<ul>
<li>New to Houdini 18.0, the createModuleFromSection function expects the code in the HDA section to have Python 3 style <strong>print statements</strong>.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># toolutils.createModuleFromSection(module_name, node_type, section_name)</span>
<span style="color:#f92672">import</span> toolutils
custom_module <span style="color:#f92672">=</span> toolutils<span style="color:#f92672">.</span>createModuleFromSection(<span style="color:#e6db74">&#34;custom_module&#34;</span>, kwargs[<span style="color:#e6db74">&#34;type&#34;</span>], <span style="color:#e6db74">&#34;custom_module.py&#34;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">speak</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;called &#34;speak&#34; from PythonModule&#39;</span>)
    custom_module<span style="color:#f92672">.</span>speak()
</code></pre></div><h1 id="extra-files">Extra Files</h1>
<p>Lets add an extra file to an HDA.</p>
<ul>
<li>RMB click the <strong>HDA &gt; Type Properties</strong> and select the <strong>Extra Files</strong> tab.</li>
<li>Click the <strong>Filename</strong> file chooser amnd navigate to the file.</li>
<li>Click <strong>Add File</strong> and press <strong>Accept</strong> to close the type properties widget.</li>
</ul>
<p>Now the file has been saved inside the HDA on disc. So lets load the file within the HDA.</p>
<ul>
<li>On the file node (inside the HDA) click the geometry file chooser.</li>
<li>On the left hand side, in the <strong>Locations</strong> section of the file chooser widget select <strong>opdef:/</strong></li>
<li>Navigate to the HDA that we just saved our file to.
<ul>
<li><strong>Note</strong> we will find the file in a directory of the HDA type. If we created a sop HDA it will be inside the sop dir. If we created the HDA with a namespace the directory of the HDA will be prefixed with this namespace as well. If we have different versions, the versions will be stored in different dirs.</li>
</ul>
</li>
</ul>
		
		</div>
	</div>
</div>
	


        </main>

        

        <footer class="container py-5">

        	<div class="row">

        		<div class="col-md-6 footer-logo-wrap">
                    <a class="py-2 home-icon" href="https://www.petfactory.se/">
              		    <svg xmlns="http://www.w3.org/2000/svg" fill="#e83e8c" width="18" height="18" viewBox="0 0 61.44 61.67"><path class="a" d="M1.28,45.25V56.6a6,6,0,0,0,6,6H18.64A27.07,27.07,0,0,1,8,55.93,25.6,25.6,0,0,1,1.28,45.25Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M28,7.85a27.08,27.08,0,0,1,19.37,7.79L52,20.31,41.35,31,36.9,26.55A13.24,13.24,0,0,0,28,23a12.91,12.91,0,1,0,0,25.82,13.24,13.24,0,0,0,8.9-3.56L62.72,19.42V7.18a6,6,0,0,0-6-6H7.29a6.33,6.33,0,0,0-6,6.23V26.77A28.27,28.27,0,0,1,28,7.85Z" transform="translate(-1.28 -1.17)"/><path class="a" d="M47.36,56.6a27,27,0,0,1-10.24,6.23H56.49a6,6,0,0,0,6-6V41.46Z" transform="translate(-1.28 -1.17)"/></svg>
                    </a>
        		  	<span class="footer-logo-lext">petfactory &copy; 2020</span>
            	</div>

        		<div class="col-md-6 social-list">
        	  		<ul class="">
                        
        			    <li><a target="_blank" class="" href="https://vimeo.com/petfactory"><svg fill="#444" width="20" height="20" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M15.992 4.275c-.07 1.56-1.16 3.697-3.263 6.41-2.176 2.832-4.017 4.248-5.522 4.248-.933 0-1.722-.862-2.367-2.588L3.55 7.6c-.48-1.724-.993-2.587-1.542-2.587-.12 0-.538.252-1.255.755L0 4.796C.79 4.1 1.568 3.406 2.335 2.71c1.053-.912 1.844-1.39 2.37-1.44 1.246-.12 2.012.733 2.3 2.56.31 1.97.526 3.194.647 3.673.36 1.634.754 2.45 1.185 2.45.335 0 .838-.53 1.51-1.59.67-1.06 1.028-1.866 1.076-2.42.096-.915-.263-1.374-1.077-1.374-.383 0-.778.087-1.185.262.788-2.58 2.29-3.834 4.508-3.762 1.644.048 2.42 1.116 2.324 3.205z" fill-rule="nonzero"/></svg></a></li>
        			    <li><a target="_blank" class="" href="https://twitter.com/johanBorgstrom"><svg fill="#444" width="20" height="20" viewBox="0 0 16 16"><path d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</a></li>
        			    <li><a target="_blank" class="" href="https://github.com/petfactory"><svg fill="#444" width="20" height="20" viewBox="0 0 16 16"><path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</a></li>
        			    <li><a target="_blank" class="" href="https://linkedin.com/in/johan-borgstr%c3%b6m-8b06875"><svg fill="#444" width="20" height="20" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51V7.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z" fill-rule="nonzero"/></svg></a></li>
        	  		</ul>
        		</div>
        	</div>
        </footer>


    	
    	
    	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="https://www.petfactory.se/js/menu.js"></script>
        
	</body>
</html>